[{"/Users/robcrock/Documents/dev/github/tableau/date-picker2/src/components/Viz.js":"1","/Users/robcrock/Documents/dev/tableau/date-picker2/src/components/App.js":"2","/Users/robcrock/Documents/dev/tableau/date-picker2/src/components/Viz.js":"3","/Users/robcrock/Documents/dev/tableau/date-picker2/src/index.js":"4"},{"size":2729,"mtime":1607521114835,"results":"5","hashOfConfig":"6"},{"size":1763,"mtime":1607782471405,"results":"7","hashOfConfig":"8"},{"size":2729,"mtime":1607521114835,"results":"9","hashOfConfig":"8"},{"size":232,"mtime":1607520266585,"results":"10","hashOfConfig":"8"},{"filePath":"11","messages":"12","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1hqw8pm",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1e0lpri",{"filePath":"15","messages":"16","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/robcrock/Documents/dev/github/tableau/date-picker2/src/components/Viz.js",["20","21","22"],"/Users/robcrock/Documents/dev/tableau/date-picker2/src/components/App.js",[],"/Users/robcrock/Documents/dev/tableau/date-picker2/src/components/Viz.js",["23","24","25"],"import { useState, useRef, useEffect } from \"react\"\nimport \"../styles/Viz.css\"\n\nconst { tableau } = window\n\nexport default function Viz({ startDate, endDate }) {\n  const [viz, setViz] = useState(null)\n\n  // Set up the arguments to pass into the Tableau Viz function\n  const ref = useRef(null)\n  const url =\n    \"https://10ax.online.tableau.com/t/developmentonlydev595736/views/DatePicker/Dashboard\"\n  const options = {\n    hideTabs: true,\n    hideToolbar: true,\n    onFirstInteractive: function() {\n      console.log(\"This viz is interactive.\")\n    },\n  }\n\n  // This function will be run on page load to initialize our viz.\n  const initViz = () => {\n    setViz(new tableau.Viz(ref.current, url, options))\n  }\n\n  // This function will run with the startDate is changed\n  // update the parameter value in the workbook and update the viz\n  async function changeStartDateParameterValue(startDate) {\n    let startYear, startMonth, startDay\n\n    if (startDate === null) {\n      startYear = 2016\n      startMonth = 0\n      startDay = 1\n    } else {\n      startYear = startDate._d.getUTCFullYear()\n      startMonth = startDate._d.getUTCMonth()\n      startDay = startDate._d.getUTCDate()\n    }\n\n    if (viz !== null) {\n      const workbook = viz.getWorkbook()\n\n      workbook.changeParameterValueAsync(\n        \"Start Date\",\n        new Date(Date.UTC(startYear, startMonth, startDay))\n      )\n    } else {\n      console.log(\"We don't have a viz yet\")\n    }\n  }\n\n  // This hook is listening to the startDate prop. When it's changed the\n  // changeStartDateParameterValue function will run with the new startDate\n  useEffect(() => {\n    changeStartDateParameterValue(startDate)\n  }, [startDate])\n\n  // This function will run with the endDate is changed\n  // update the parameter value in the workbook and update the viz\n  async function changeEndDateParameterValue(endDate) {\n    let endYear, endMonth, endDay\n\n    if (endDate === null) {\n      endYear = 2019\n      endMonth = 11\n      endDay = 31\n    } else {\n      endYear = endDate._d.getUTCFullYear()\n      endMonth = endDate._d.getUTCMonth()\n      endDay = endDate._d.getUTCDate()\n    }\n\n    if (viz !== null) {\n      const workbook = viz.getWorkbook()\n\n      workbook.changeParameterValueAsync(\n        \"End Date\",\n        new Date(Date.UTC(endYear, endMonth, endDay))\n      )\n    } else {\n      console.log(\"We don't have a viz yet\")\n    }\n  }\n\n  // This hook is listening to the startDate prop. When it's changed the\n  // changeStartDateParameterValue function will run with the new startDate\n  useEffect(() => {\n    changeEndDateParameterValue(endDate)\n  }, [endDate])\n\n  // Initialize viz when the page loads\n  useEffect(initViz, [])\n\n  return <div className=\"viz\" ref={ref} />\n}\n","/Users/robcrock/Documents/dev/tableau/date-picker2/src/index.js",[],{"ruleId":"26","severity":1,"message":"27","line":57,"column":6,"nodeType":"28","endLine":57,"endColumn":17,"suggestions":"29"},{"ruleId":"26","severity":1,"message":"30","line":90,"column":6,"nodeType":"28","endLine":90,"endColumn":15,"suggestions":"31"},{"ruleId":"26","severity":1,"message":"32","line":93,"column":22,"nodeType":"28","endLine":93,"endColumn":24,"suggestions":"33"},{"ruleId":"26","severity":1,"message":"27","line":57,"column":6,"nodeType":"28","endLine":57,"endColumn":17,"suggestions":"34"},{"ruleId":"26","severity":1,"message":"30","line":90,"column":6,"nodeType":"28","endLine":90,"endColumn":15,"suggestions":"35"},{"ruleId":"26","severity":1,"message":"32","line":93,"column":22,"nodeType":"28","endLine":93,"endColumn":24,"suggestions":"36"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'changeStartDateParameterValue'. Either include it or remove the dependency array.","ArrayExpression",["37"],"React Hook useEffect has a missing dependency: 'changeEndDateParameterValue'. Either include it or remove the dependency array.",["38"],"React Hook useEffect has a missing dependency: 'options'. Either include it or remove the dependency array.",["39"],["40"],["41"],["42"],{"desc":"43","fix":"44"},{"desc":"45","fix":"46"},{"desc":"47","fix":"48"},{"desc":"43","fix":"49"},{"desc":"45","fix":"50"},{"desc":"47","fix":"51"},"Update the dependencies array to be: [changeStartDateParameterValue, startDate]",{"range":"52","text":"53"},"Update the dependencies array to be: [changeEndDateParameterValue, endDate]",{"range":"54","text":"55"},"Update the dependencies array to be: [options]",{"range":"56","text":"57"},{"range":"58","text":"53"},{"range":"59","text":"55"},{"range":"60","text":"57"},[1672,1683],"[changeStartDateParameterValue, startDate]",[2606,2615],"[changeEndDateParameterValue, endDate]",[2679,2681],"[options]",[1672,1683],[2606,2615],[2679,2681]]